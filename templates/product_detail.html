{% extends "index.html" %}

{% block head %}
  <title>상품 조회 상세 | 이화 마켓</title>
  <link rel="stylesheet"
        href="{{ url_for('static', filename='product_detail.css') }}?v={{ range(1,999999)|random }}">
{% endblock head %}

{% block section %}
<h2 class="page-title">상품 조회 상세</h2>

<div class="detail">
  <!-- [BOX-LEFT] 대표사진 묶음 -->
  <section class="detail__box detail__box--left">
    <div class="label-box label-photo">대표사진</div>

    {% if product.thumb %}
      <img class="detail__img"
           src="{{ url_for('static', filename=product.thumb) }}"
           alt="{{ product.name }}">
    {% else %}
      <div class="detail__img detail__img--empty">이미지 없음</div>
    {% endif %}
  </section>

  <!-- [BOX-RIGHT] 정보/찜/목록 묶음 -->
  <section class="detail__box detail__box--right">
    <!-- 상단 찜하기 바 -->
    <div class="right-bar">
      <div class="wish">
        <span>찜하기</span> |
        <button class="heart" type="button" aria-label="찜하기" data-pid="{{ product.id }}">♡</button>
      </div>
    </div>

    <!-- 정보 행들 -->
    <div class="row row--name">
      <div class="label-box">상품명</div>
      <div class="value-box">{{ product.name }}</div>
    </div>

     <div class="row">
      <div class="label-box">상태</div>
      <div class="value-box">
        {% if product.status == 'new' %}
          새 상품
        {% elif product.status == 'lnew' %}
          양호
        {% elif product.status == 'used' %}
          중고
        {% else %}
          -
        {% endif %}
      </div>
    </div>

    <div class="row">
      <div class="label-box">상태</div>
      <div class="value-box">{{ product.status or "-" }}</div>
    </div>

    <div class="row">
      <div class="label-box">설명</div>
      <div class="value-box">{{ product.desc or "-" }}</div>
    </div>

    <div class="row">
      <div class="label-box">판매자 ID</div>
      <div class="value-box">{{ product.seller or "-" }}</div>
    </div>

    <div class="row">
      <div class="label-box">판매자 전화번호</div>
      <div class="value-box">{{ product.phone or "-" }}</div>
    </div>

    <div class="row">
      <div class="label-box">지역</div>
      <div class="value-box">
        {% if product.region or product.addr %}
          {{ product.region or "" }} {{ product.addr or "" }}
        {% else %}
          -
        {% endif %}
      </div>
    </div>

    <!-- 목록으로 버튼 (오른쪽 박스 하단 정렬) -->
    <div class="actions">
      <a class="back-btn" href="{{ url_for('view_list') }}">목록으로 돌아가기</a>
    </div>
  </section>
</div>
{% endblock section %}
